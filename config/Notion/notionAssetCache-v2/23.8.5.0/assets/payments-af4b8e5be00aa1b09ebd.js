(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+A+3":function(e,t,r){"use strict";r.r(t);var o=r("pVnL"),n=r.n(o),a=r("gcR/"),i=r.n(a),s=r("lSNA"),d=r.n(s),l=(r("3bBZ"),r("q1tI")),c=r.n(l),p=r("wldR"),u=r("J9+s"),m=r("8fuX"),y=r("Cycz"),f=r("Sb6f"),g=r("6q9u"),h=r("VhAz"),v=r("eWwy"),b=r("nM47"),S=r("nWgh"),C=r("VBxf"),M=r("UWX6"),w=r("toub"),x=r("Ggib"),O=r("zmp8"),T=r("PHZn"),P=r("FkPB"),A=r("8FJR"),j=r("yNyh"),E=r("yQT7"),F=r("LvDl"),k=r("bkwR"),B=r("zqZm"),I=r("r8MX");async function U(e){const t=x.a.state,r=I.default.state.data;if(!t.open||!r)return;if(t.vatApplicable&&t.temporaryVatCode)return void x.a.setState({...t,taxAmount:void 0,calculatingTax:!1});const o=t.temporaryAddress;if("insufficient_data"===Object(B.a)(o))return;x.a.setState({...t,calculatingTax:!0});const{planAmount:n,promoInfo:a,creditAmount:i,accountBalance:s}=Object(y.m)({state:t,promo:t.appliedPromo,data:r}),d=await Object(k.calculateTax)(e,{address:o,price:Math.max(0,n-a.amount-i-s),vatId:t.vatApplicable?t.temporaryVatCode:void 0});if("failed"===d.type)x.a.setState({...t,taxAmount:void 0,calculatingTax:!1});else{const e=d.data;e.valid?x.a.setState({...t,taxAmount:e.taxAmount,calculatingTax:!1}):x.a.setState({...t,taxAmount:void 0,calculatingTax:!1})}}var R=r("Zo/l");function z(e){const t=Object(T.a)(e=>({container:Object(E.b)(e),header:N(e),cityZipRow:{display:"flex"},verticalDivider:{display:"flex",borderLeft:"1px solid",borderLeftColor:e.groupedFormBorder},zipRow:{display:"flex",flex:2},stateRow:{display:"flex",flex:3}}),[]),r=Object(R.b)(),[o]=Object(l.useState)(()=>Object(F.debounce)(async()=>{await U(r)},3e3)),[n]=Object(P.b)(x.a);if(!n.open)return null;const a=n.temporaryAddress;return i()("div",{},void 0,i()("label",{style:t.header},void 0,i()(u.FormattedMessage,{id:"spaceSubscriptionPaymentForm.billingInformation.header",defaultMessage:"Billing information"})),i()(A.a,{address:a,updateAddressField:async(e,t)=>{x.a.setAddressField(e,t),await o()},shouldShowBusinessName:["team","enterprise"].includes(e.storeState.subscriptionTier)}),i()(_,{storeState:e.storeState}),i()(L,{onUpdate:async()=>{await o()}}))}function _(e){const t=Object(T.a)(t=>({container:{...W(t),padding:"5px 5px 5px 10px"},header:{...N(t),paddingTop:20},wrapper:{..."credit_card"!==e.storeState.temporaryPaymentMethod?{display:"none"}:void 0}}),[e.storeState.temporaryPaymentMethod]),r=Object(T.b)();return i()("div",{style:t.wrapper},void 0,i()("label",{style:t.header},void 0,i()(u.FormattedMessage,{id:"spaceSubscriptionPaymentForm.paymentInformation.header",defaultMessage:"Payment information"})),i()("div",{style:t.container},void 0,i()(v.CardElement,{options:{style:{base:{iconColor:r.blueColor,color:r.regularTextColor,fontFamily:f.a.fontFamily.sans,fontSmoothing:"antialiased",fontSize:"14px","::placeholder":{color:r.lightTextColor},lineHeight:"2em"},complete:{iconColor:r.blueColor},invalid:{color:O.g.red,iconColor:O.g.red}},hidePostalCode:!0}})))}function L(e){const t=Object(T.a)(e=>({container:{...W(e),borderBottom:"none"},header:{...N(e),paddingTop:20},input:{background:"none",boxShadow:"none",padding:8},subtitle:{color:e.mediumTextColor,fontSize:f.a.fontSize.UISmall.desktop,marginTop:5,marginBottom:10}}),[]),r=Object(u.useIntl)(),[o,n]=Object(P.b)(x.a);return o.open&&o.vatApplicable?i()("div",{},void 0,i()("label",{style:t.header},void 0,i()(u.FormattedMessage,{id:"spaceSubscriptionPaymentForm.vatCountryCode.header",defaultMessage:"VAT (optional)"})),i()("div",{style:t.container},void 0,i()(E.a,{},void 0,i()(j.b,{value:o.temporaryVatCode,style:t.input,placeholder:r.formatMessage({id:"spaceSubscriptionPaymentForm.vatCountryCode.placeholder",defaultMessage:"VAT/GST number"}),onChange:t=>{n({...o,temporaryVatCode:t.target.value}),e.onUpdate(t.target.value)}}))),i()("div",{style:t.subtitle},void 0,i()(u.FormattedMessage,{id:"spaceSubscriptionBilling.vatCountryCode.subtitle",defaultMessage:"Please include your country code"}))):null}function W(e){return{backgroundColor:e.groupedFormBackground,borderWidth:1,borderStyle:"solid",borderColor:e.groupedFormBorder,borderRadius:3}}function N(e){return{display:"flex",alignItems:"center",marginBottom:6,fontSize:12,fontWeight:f.a.fontWeight.semibold,color:e.mediumTextColor}}var q=r("QcDD"),D=r("w4oV"),Z=r("gQtv"),V=r("V1wX"),H=r("Ng05"),Q=r("i3uR"),Y=r("IULH"),J=r("SR/M"),K=r("gbGO"),G=r("WgIs"),X=r("2Y+N"),$=r("vJXr"),ee=r("AfJk"),te=r("6BTz"),re=r("MZdi"),oe=r("pqiZ"),ne=r("y6Dp"),ae=r("lEhh");function ie(e){const[t,r]=Object(P.b)(x.a),o=Object(T.a)(se,[]),n=Object(R.b)(),a=Object(u.useIntl)();return!t.open||e.data.availableCredit<=0?null:i()("div",{style:o.toggle,onClick:()=>{!function(e){const{data:t,state:r,setModalState:o,environment:n}=e,a=void 0===r.temporaryUseCreditCents||r.temporaryUseCreditCents===t.availableCredit?0:t.availableCredit;o({...r,temporaryUseCreditCents:a}),ne.pb(n,{credits:a})}({environment:n,data:e.data,state:t,setModalState:r})}},void 0,i()("div",{style:{marginRight:8}},void 0,i()(u.FormattedMessage,{id:"applyCreditToggle.applyCredit.amount",defaultMessage:"Apply {creditAmount} credit",description:"Whether to apply credit to this subscription. The amount is formatted with currency",values:{creditAmount:Object(te.b)({amount:e.data.availableCredit,currency:"dollar",intl:a})}})),i()(ae.a,{on:Object(y.g)(t,e.data)===e.data.availableCredit}))}function se(e){return{toggle:{cursor:"pointer",fontSize:14,color:e.regularTextColor,display:"flex",justifyContent:"space-between",marginTop:14,marginBottom:7}}}var de=r("wlCD");function le(e){const{state:t,data:r,promo:o}=e,n=Object(T.a)(e=>({container:{display:"flex",flexDirection:"column"},header:{fontSize:16,color:e.regularTextColor,fontWeight:f.a.fontWeight.semibold,marginBottom:10}}),[]),a=S.d[e.state.subscriptionTier][e.state.temporaryBillingInterval||"year"];return i()("div",{style:n.container},void 0,i()("label",{style:n.header},void 0,i()(u.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.header",defaultMessage:"Order summary"})),i()(me,{state:t,data:r,promo:o}),i()(re.a,{style:{marginTop:10},plan:a,handlePromo:t=>x.a.setState({...e.state,appliedPromo:t})}),0!==r.availableCredit&&c.a.createElement(c.a.Fragment,null,i()(ie,{data:r}),i()(oe.a,{size:14})),i()(pe,{style:{marginTop:0===r.availableCredit?14:0},state:t,data:r,promo:o}),i()(oe.a,{size:14}),i()(ce,{state:t,data:r,promo:o}))}function ce(e){const{state:t,data:r,promo:o}=e,{payAmount:n}=y.m({state:t,promo:o,data:r});return i()(ue,{lineItem:{price:n,type:"standard",name:i()(u.FormattedMessage,{id:"spaceSubscriptionUpgradeOrderSummary.orderTotal",defaultMessage:"Total"})},priceStyle:{fontSize:20}})}function pe(e){const{state:t,data:r,promo:o,style:n}=e,{lineItems:a}=y.m({state:t,promo:o,data:r}),s=a.map(e=>i()(ue,{lineItem:e},"".concat(e.name,":").concat(e.price,":").concat(e.type)));return i()("div",{style:n},void 0,s)}function ue(e){const{lineItem:t,priceStyle:r}=e,o=Object(T.a)(e=>({container:{marginTop:24},itemContainer:{display:"flex",justifyContent:"space-between",alignItems:"baseline",lineHeight:1.7},name:{fontSize:14,color:e.mediumTextColor},price:{fontSize:14,color:"promotion"===t.type?"#53A83F":e.regularTextColor,...r||void 0},caption:{fontSize:12,color:e.mediumTextColor},captionContainer:{display:"flex",flexDirection:"column"}}),[t,r]),n=Object(u.useIntl)(),a=t.price?Object(te.b)({amount:t.price,currency:"dollar",intl:n}):"—";return i()("div",{style:o.itemContainer},void 0,i()("div",{style:o.captionContainer},void 0,i()("span",{style:o.name},void 0,t.name),t.subtitle&&i()("span",{style:o.caption},void 0,t.subtitle)),"calculating"===t.type?i()(de.a,{}):i()("span",{style:o.price},void 0,a))}function me(e){const{state:t,data:r,promo:o}=e,n=Object(u.useIntl)(),a=function(e,t){const{subscriptionTier:r}=e,o=y.u(t);switch(r){case"personal":return i()(u.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.personalPlan",defaultMessage:"Personal pro plan"});case"team":return i()(u.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.teamPlan",defaultMessage:"Team plan ({numberOfMembers, plural, one {# member} other {# members}})",values:{numberOfMembers:o}});case"enterprise":return i()(u.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.enterprisePlan",defaultMessage:"Enterprise plan ({numberOfMembers, plural, one {# member} other {# members}})",values:{numberOfMembers:o}});default:Object(h.f)(r)}}(t,r),s=function(e,t){const{subscriptionTier:r}=e,o=y.f(e),n=y.i({subscriptionTier:r,billingInterval:o,intl:t});switch(o){case"year":return i()(u.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.planSubtitle.billedYearly",defaultMessage:"{price} / user / month · Billed yearly",values:{price:n}});case"month":return i()(u.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.planSubtitle.billedMonthly",defaultMessage:"{price} / user / month · Billed monthly",values:{price:n}});default:Object(h.f)(o)}}(t,n),{planAmount:d}=y.m({state:t,promo:o,data:r}),l=Object(T.a)(e=>({container:{display:"flex",justifyContent:"space-between",marginBottom:6},item:{},title:{fontSize:14},subtitle:{color:e.mediumTextColor,fontSize:12},price:{fontSize:14}}),[]);return i()("div",{style:l.container},void 0,i()("div",{style:l.item},void 0,i()("div",{style:l.title},void 0,a),i()("div",{style:l.subtitle},void 0,s)),i()("div",{style:l.price},void 0,Object(te.b)({amount:d,currency:"dollar",intl:n})))}var ye=r("aEEb"),fe=r("mF3+"),ge=r("nQ/L"),he=r("Mht8"),ve=r("AId3"),be=r("/6eU"),Se=r("Z1H8");class Ce extends p.a{constructor(...e){super(...e),d()(this,"storeTypes",{paymentOptionAvailabilityStore:Z.a}),d()(this,"renderModal",()=>{const e=x.a.state;if(e.open)return $.a.state.online?i()("div",{style:this.getModalStyle()},void 0,i()("div",{style:{flex:1,maxWidth:"60%",backgroundColor:this.theme.sidebarSecondaryBackground,borderLeft:"1px solid ".concat(this.theme.lightDividerColor),padding:"32px 32px 0px",display:"flex",flexDirection:"column",position:"relative"}},void 0,i()(m.b,{type:m.a.Y,showScrollToBottomIndicator:!0},void 0,this.renderPlanHeader(e),this.renderBillingIntervalSection(e),this.renderPaymentMethodSection(e),i()(z,{storeState:e}))),i()("div",{style:{flex:1,maxWidth:"40%",backgroundColor:this.theme.sidebarSecondaryBackground,borderLeft:"1px solid ".concat(this.theme.lightDividerColor),padding:"24px 20px 0px",display:"flex",flexDirection:"column",overflow:"scroll"}},void 0,i()(m.b,{type:m.a.Y},void 0,i()(le,{state:e,data:this.props.data,promo:e.appliedPromo}),this.renderControls(e)))):i()(ee.a,{})}),d()(this,"getBillingType",e=>{const t=e.temporaryPaymentMethod;return"credit_card"===t||"native_payment_platform"===t?"charge_automatically":"invoice"===t?"send_invoice":void Object(h.f)(t)}),d()(this,"validateAddress",async e=>{const t=e.temporaryAddress,r=await Object(ve.a)(this.environment,t);return r.valid&&r.validatedAddresses&&x.a.setState({...e,temporaryAddress:{...e.temporaryAddress,...r.validatedAddresses[0]}}),r.valid||(x.a.setState({...e,error:this.props.intl.formatMessage({id:"spaceSubscriptionUpgradeModal.billingAddress.invalidError",defaultMessage:"Your address is invalid. Please update your address so we can process your payment."})}),ne.uf(this.environment,{error:void 0,error_type:"address"})),r}),d()(this,"handleModalClose",()=>{x.a.reset()})}didMount(){if(!x.a.state.open)return;const{currentUserStore:e}=q.default.state;if(e&&e.state.value){const t=Object(V.d)(this.props.intl,e.state.value);x.a.setState({...x.a.state,temporaryAddress:{...x.a.state.temporaryAddress,name:t}})}y.z(y.u(this.props.data))&&this.stores.paymentOptionAvailabilityStore.addPaymentOption("invoice")}didUpdate(e){if(this.props.stripe&&!e.stripe){const e=this.props.stripe.paymentRequest({country:"US",currency:"usd",total:{label:this.props.intl.formatMessage({id:"spaceSubscriptionUpgradeModal.applePay.total.label",defaultMessage:"Notion - You will be charged on a recurring basis"}),amount:0}});e.canMakePayment().then(t=>{t&&(this.stores.paymentOptionAvailabilityStore.setState({...this.stores.paymentOptionAvailabilityStore.state,supportsApplePay:t.applePay,paymentRequest:e}),this.stores.paymentOptionAvailabilityStore.addPaymentOption("native_payment_platform"))}),e.on("token",async e=>{const t=x.a.state;if(!t.open)return;const{valid:r}=await this.validateAddress(t);r?this.handleUpgrade(e.token.id,e.complete):e.complete("fail")})}}renderComponent(){return i()(be.a,{open:x.a.state.open,preventHideChildrenWhileOpening:!0,render:()=>i()(Se.a,{capture:!0,allowEsc:!0,render:()=>this.renderModal()}),onDismiss:this.handleModalClose})}renderPlanHeader(e){return c.a.createElement(c.a.Fragment,null,fe.a.notionLogoStroked({width:34,height:34,marginBottom:14}),i()("div",{style:{...this.getPrimaryTextStyle(),marginBottom:6}},void 0,this.getPlanTitle(e)),i()("div",{style:this.getSecondaryTextStyle()},void 0,this.getOneLiner(e)))}getOneLiner(e){switch(e.subscriptionTier){case"personal":return i()(u.FormattedMessage,{id:"subscriptionUpgradeModal.oneLiner.personal",defaultMessage:"For power users who want to do even more."});case"team":return i()(u.FormattedMessage,{id:"subscriptionUpgradeModal.oneLiner.team",defaultMessage:"Write, plan, and work together in one spot."});case"enterprise":return i()(u.FormattedMessage,{id:"subscriptionUpgradeModal.oneLiner.enterprise",defaultMessage:"Controls and support to run your company."})}}getPlanTitle(e){return{personal:i()(u.FormattedMessage,{id:"subscriptionUpgradeModal.title.personal",defaultMessage:"Upgrade to Personal Pro"}),team:i()(u.FormattedMessage,{id:"subscriptionUpgradeModal.title.team",defaultMessage:"Upgrade to Team"}),enterprise:i()(u.FormattedMessage,{id:"subscriptionUpgradeModal.title.enterprise",defaultMessage:"Upgrade to Enterprise"}),team_free:i()(u.FormattedMessage,{id:"subscriptionUpgradeModal.title.teamFree",defaultMessage:"Upgrade to Team Trial"})}[e.subscriptionTier]}renderControls(e){return c.a.createElement(c.a.Fragment,null,this.renderUpgradeButton(e),this.renderErrorMessage(e),this.renderContactSales(e))}renderContactSales(e){if("team"===e.subscriptionTier||"enterprise"===e.subscriptionTier)return c.a.createElement(c.a.Fragment,null,i()(Y.a,{style:{width:"100%",height:40,marginTop:10},onClick:()=>{const{currentUserStore:e}=q.default.state,t=e&&e.getValue();D.a.setState({open:!0,email:t&&t.email,name:t&&Object(V.d)(this.props.intl,t)})}},void 0,fe.a.chat({height:18,width:20,marginRight:6}),i()("span",{style:{fontWeight:f.a.fontWeight.medium}},void 0,i()(u.FormattedMessage,{id:"spaceSubscriptionSettings.upgradeModal.contactSales",defaultMessage:"Contact sales"}))),i()("p",{style:{color:this.theme.mediumTextColor,fontSize:12,lineHeight:f.a.lineHeight.UISmall.desktop}},void 0,i()(u.FormattedMessage,{id:"spaceSubscriptionSettings.upgradeModal.sales.questions",defaultMessage:"Questions? Contact our sales team for more information."})))}renderErrorMessage(e){const t=e.error;if(t)return i()(ye.a,{isMultiline:!0,style:{marginTop:8,color:O.g.red}},void 0,t)}renderUpgradeButton(e){const t=e.temporaryPaymentMethod,r={width:"100%",height:40,marginTop:24};return this.stores.paymentOptionAvailabilityStore.state.supportsApplePay&&"native_payment_platform"===t?i()("button",{style:{...r,WebkitAppearance:"-apple-pay-button"},onClick:()=>this.handleUpgradeClick(e)}):i()(H.a,{style:r,onClick:()=>this.handleUpgradeClick(e)},void 0,this.getUpgradeButtonText(e))}getUpgradeButtonText(e){const{subscriptionTier:t}=e;switch(t){case"personal":return i()(u.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.upgradeButton.personalProPlan",defaultMessage:"Upgrade to Personal Pro"});case"team":return i()(u.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.upgradeButton.teamPlan",defaultMessage:"Upgrade to Team"});case"enterprise":return i()(u.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.upgradeButton.enterprisePlan",defaultMessage:"Upgrade to Enterprise"});default:Object(h.f)(t)}}renderBillingIntervalSection(e){const t=e.appliedPromo,{yearlyUnitPrice:r,monthlyUnitPrice:o}=y.m({state:e,promo:t,data:this.props.data}),a=y.f(e),s=1-r/(12*o),d=y.c(e.subscriptionTier,s,this.props.intl),l=d.find(e=>e.id===a)||d[0],p=i()(u.FormattedMessage,{id:"spaceSubscriptionSettings.upgradeModal.billingIntervalSection.header",defaultMessage:"Billing interval"});return i()("div",{style:this.getSectionStyle()},void 0,i()("div",{style:this.getSubheaderStyle()},void 0,i()("div",{},void 0,p)),i()(Q.a,{popupType:Q.a.PopupType.Popup,placementToOrigin:Q.a.Placement.Bottom,sameWidthAsOrigin:!0,renderOrigin:e=>c.a.createElement(Y.a,n()({},e,{isLarge:!0,style:{marginBottom:4,width:"100%",justifyContent:"space-between"}}),l.title,fe.a.chevronDown({width:10,marginLeft:4,fill:this.theme.lightIconColor})),render:t=>{const r={menuType:K.b.MenuType.Popup,width:"100%"},o=d.map(r=>({key:r.id,action:r=>{const o=d[r.index].id;x.a.setState({...e,temporaryBillingInterval:o}),ne.Ke(this.environment,{billingInterval:o}),U(this.environment),t.close()},render:e=>c.a.createElement(J.a,n()({},e,{title:r.title}))}));return c.a.createElement(K.b,r,i()("div",{style:{width:"100%"}},void 0,i()(G.a,{type:G.a.Type.Vertical,sections:[{key:"billing interval section",render:e=>c.a.createElement(X.a,e),items:o}],initialFocus:void 0})))}}))}renderPaymentMethodSection(e){const t=e.temporaryPaymentMethod,r=i()(u.FormattedMessage,{id:"spaceSubscriptionSettings.upgradeModal.paymentMethodSection.header",defaultMessage:"Payment method"}),o=y.k(this.stores.paymentOptionAvailabilityStore.state.availablePaymentMethods);return i()("div",{style:this.getSectionStyle()},void 0,i()("div",{style:this.getSubheaderStyle()},void 0,i()("div",{},void 0,r)),1===o.length?c.a.createElement(c.a.Fragment,null,i()("div",{style:{display:"flex",alignItems:"center",fontSize:14}},void 0,o[0].title),i()("div",{style:{color:this.theme.mediumTextColor,fontSize:12,marginLeft:24,marginTop:2,marginBottom:8}},void 0,o[0].caption)):o.map(({type:r,title:o,caption:n})=>i()(c.a.Fragment,{},r,this.renderRadioButton({title:o,caption:n,isSelected:t===r,onClick:()=>{const t={...e,temporaryPaymentMethod:r};x.a.setState(t),ne.Me(this.environment,{paymentMethod:r})},unavailable:!1}))))}renderRadioButton(e){const{title:t,caption:r,isSelected:o,onClick:n,unavailable:a}=e,s=a?.4:1;return i()("div",{style:{cursor:"pointer",opacity:s},onClick:n},void 0,i()("div",{style:{display:"flex",alignItems:"center",fontSize:14}},void 0,i()(g.a,{isSelected:o}),t),i()("div",{style:{color:this.theme.mediumTextColor,fontSize:12,marginLeft:24,marginTop:2,marginBottom:8}},void 0,r))}async handleUpgradeClick(e){const t=e.temporaryPaymentMethod;ne.tf(this.environment,{paymentMethod:t});const r=this.stores.paymentOptionAvailabilityStore.state.paymentRequest;if("native_payment_platform"===t&&r)return void r.show();const{valid:o}=await this.validateAddress(e);o&&this.handleNonNativeUpgrade(e)}async handleNonNativeUpgrade(e){if("invoice"===e.temporaryPaymentMethod)return await this.handleUpgrade(void 0,void 0);const{stripe:t,elements:r}=this.props;if(!r||!t)return void he.log({level:"error",from:"SpaceSubscriptionUpgradeModal",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}});const o=r.getElement(v.CardElement);if(!o)return void he.log({level:"error",from:"SpaceSubscriptionUpgradeModal",type:"StripeError",error:{miscDataString:"Stripe Card Element could not be found"}});const n=await t.createToken(o);if(!n.error&&n.token){const e=n.token.id;await this.handleUpgrade(e,void 0)}else n.error?(ne.uf(this.environment,{error:n.error.message,error_type:"credit_card"}),x.a.setState({...e,error:n.error.message})):(ne.uf(this.environment,{error:"could not create token",error_type:"credit_card"}),x.a.setState({...e,error:this.props.intl.formatMessage({id:"spaceSubscriptionUpgradeModal.creditCard.genericError",defaultMessage:"Your card could not be processed. Please try again."})}))}async handleUpgrade(e,t){const r=x.a.state;if(!r.open)return void(t&&t("fail"));const o=r.temporaryPaymentMethod;ne.Ne(this.environment,{paymentMethod:o});const{spaceStore:n,data:a}=this.props,i=y.f(r),s=y.g(r,a),d=this.getBillingType(r),l=y.e(r,a),c=S.d[r.subscriptionTier][i],p=r.appliedPromo,u=r.temporaryAddress;await Object(b.h)({environment:this.environment,spaceStore:n,plan:c,stripeToken:e,billing:d,billingEmail:l,creditAmount:s,coupon:p&&"coupon"===p.source?p.code:void 0,customerName:u.name,businessName:u.businessName,addressLine1:u.addressLine1,addressCity:u.city,addressZip:u.zipCode,addressState:u.state,addressCountry:u.country,vatId:r.vatApplicable?r.temporaryVatCode:void 0,promoCodeId:p&&"promo_code"===p.source?p.code:void 0})?(t&&t("success"),"send_invoice"===d&&Object(C.showErrorMessage)(this.props.intl.formatMessage({id:"spaceSubscriptionSettings.upgradeModal.checkEmailDialog.message",defaultMessage:"Please check your email for the invoice."})),p&&Object(M.c)(this.environment.currentUser.id),this.handleModalClose(),w.a.setState({...w.a.state,currentTab:"billing"})):t&&t("fail")}getPrimaryTextStyle(){return{fontWeight:f.a.fontWeight.bold,fontSize:22,lineHeight:1.1,marginBottom:2}}getSecondaryTextStyle(){return{fontWeight:f.a.fontWeight.regular,fontSize:14,lineHeight:1.4,marginBottom:22,color:this.theme.mediumTextColor}}getModalStyle(){return{background:this.theme.popoverBackground,borderRadius:3,width:650,maxHeight:760,height:"100vh",display:"flex"}}getSectionStyle(){return{marginBottom:20}}getSubheaderStyle(){return{display:"flex",alignItems:"center",marginBottom:6,fontSize:12,fontWeight:f.a.fontWeight.semibold,color:this.theme.mediumTextColor}}}t.default=Object(ge.injectStripe)(Object(u.injectIntl)(Ce))},"2A6Q":function(e,t,r){"use strict";var o=r("gcR/"),n=r.n(o),a=(r("q1tI"),r("pqiZ")),i=r("8fuX"),s=r("wldR");class d extends s.a{static renderDivider(){return n()(a.a,{size:37})}renderComponent(){const{device:e}=this.environment,{children:t,controlRow:r}=this.props,o=()=>e.isMobile?18:60,a=()=>e.isMobile?18:36;return n()("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",backgroundColor:this.theme.contentBackground}},void 0,n()(i.b,{type:i.a.All,style:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:o(),paddingRight:o(),paddingTop:a(),paddingBottom:a()}},void 0,t),r&&n()("div",{style:{flexGrow:0,flexShrink:0,paddingLeft:o(),paddingRight:o(),paddingTop:16,paddingBottom:16,boxShadow:"0 -1px 0 ".concat(this.theme.regularDividerColor)}},void 0,r))}}t.a=d},"8FJR":function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var o=r("pVnL"),n=r.n(o),a=r("gcR/"),i=r.n(a),s=(r("3bBZ"),r("q1tI")),d=r.n(s),l=r("PHZn"),c=r("J9+s"),p=r("Zo/l"),u=r("yNyh"),m=r("gbGO"),y=r("WgIs"),f=r("2Y+N"),g=r("mjq6"),h=r("mUbl"),v=r("VhAz"),b=r("bkwR"),S=r("SR/M"),C=r("wXH4"),M=r("zqZm"),w=r("Ggib"),x=r("yQT7");function O(e){const t=Object(l.a)(e=>({container:Object(x.b)(e),cityZipRow:{display:"flex"},verticalDivider:{display:"flex",borderLeft:"1px solid",borderLeftColor:e.groupedFormBorder},zipRow:{display:"flex",flex:2},stateRow:{display:"flex",flex:3}}),[]),r=Object(c.useIntl)();return i()("div",{},void 0,i()("div",{style:t.container},void 0,i()(P,{placeholder:r.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.fullName",defaultMessage:"Full name"}),address:e.address,updateAddressField:e.updateAddressField,addressKey:"name"}),e.shouldShowBusinessName&&i()(P,{placeholder:r.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.businessName",defaultMessage:"Business name (optional)"}),address:e.address,updateAddressField:e.updateAddressField,addressKey:"businessName"}),i()(T,{updateAddressField:e.updateAddressField}),e.address&&Object(M.b)(e.address.country)&&d.a.createElement(d.a.Fragment,null,i()(P,{placeholder:r.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.address",defaultMessage:"Address"}),address:e.address,addressKey:"addressLine1",updateAddressField:e.updateAddressField}),i()(P,{placeholder:r.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.city",defaultMessage:"City"}),addressKey:"city",address:e.address,updateAddressField:e.updateAddressField}),i()("div",{style:t.cityZipRow},void 0,i()("div",{style:t.zipRow},void 0,i()(P,{placeholder:r.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.zipCode",defaultMessage:"Zip code"}),address:e.address,addressKey:"zipCode",updateAddressField:e.updateAddressField})),i()("div",{style:t.verticalDivider}),i()("div",{style:t.stateRow},void 0,i()(P,{placeholder:r.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.state",defaultMessage:"State / Province"}),address:e.address,addressKey:"state",updateAddressField:e.updateAddressField}))))))}function T(e){const t=Object(p.b)(),[r,o]=Object(s.useState)(!1),a=Object(c.useIntl)(),M=Object(l.a)(()=>({input:{background:"none",boxShadow:"none",padding:8}}),[]),[O,T]=d.a.useState(""),[P]=Object(h.a)(async()=>{const e=await b.getAvailableCountries(t,{});return"success"===e.type?e.data.countries:"failed"===e.type?[]:void Object(v.f)(e)},[t]),A=P.value;if(!A)return null;const j=Object(g.b)(O,A,e=>e.name).map((t,r)=>({key:r,render:e=>d.a.createElement(S.a,n()({},e,{title:t.name})),action:()=>{e.updateAddressField("country",t.countryCode);const r=w.a.state;r.open&&w.a.setState({...r,vatApplicable:Boolean(t.vatApplicable)}),T(t.name),o(!1)}}));return i()(x.a,{},void 0,i()(C.c,{popupType:C.c.PopupType.Popup,alignmentToOrigin:C.c.Alignment.End,placementToOrigin:C.c.Placement.Right,originGap:0,open:r,origin:i()(u.b,{value:O,focus:r,placeholder:a.formatMessage({id:"spaceSubscriptionPaymentForm.billingInformation.country",defaultMessage:"Country or region"}),style:M.input,onChange:t=>{T(t.target.value),e.updateAddressField("country",void 0)},onFocus:()=>{o(!0)}}),onDismiss:()=>{o(!1),T("")},render:()=>i()(m.b,{menuType:m.b.MenuType.Popup,width:"100%"},void 0,i()(y.a,{type:y.a.Type.Vertical,initialFocus:O.length>0?0:void 0,sections:[{key:0,render:e=>d.a.createElement(f.a,n()({},e,{title:i()(c.FormattedMessage,{id:"spaceSubscriptionBillingInfoForm.countryDropdown.title",defaultMessage:"Select a country or region"})})),items:j}]}))}))}function P(e){const t=Object(l.a)(()=>({input:{background:"none",boxShadow:"none",padding:8}}),[]);return i()(x.a,{},void 0,i()(u.b,{value:e.address[e.addressKey],style:t.input,placeholder:e.placeholder,onChange:(r=e.updateAddressField,o=e.addressKey,e=>{r(o,e.target.value)})}));var r,o}},AId3:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var o=r("bkwR"),n=r("zqZm");async function a(e,t){const r=Object(n.a)(t);if("skip"===r)return{valid:!0};if("insufficient_data"===r)return{valid:!1};const a=await Object(o.resolveAddress)(e,{address:{line1:t.addressLine1,city:t.city,zip:t.zipCode,state:t.state,country:t.country}});return"failed"===a.type?{valid:!1}:a.data}},AfJk:function(e,t,r){"use strict";var o=r("gcR/"),n=r.n(o),a=(r("q1tI"),r("wldR")),i=r("2A6Q"),s=r("aEEb"),d=r("J9+s");class l extends a.a{renderComponent(){return n()(i.a,{},void 0,n()(s.a,{isSmall:!0,style:{textAlign:"center"}},void 0,n()(d.FormattedMessage,{id:"spaceSubscriptionPlans.offlineMessage",defaultMessage:"Please go online to manage your plan."})))}}t.a=l},MZdi:function(e,t,r){"use strict";var o=r("gcR/"),n=r.n(o),a=r("lSNA"),i=r.n(a),s=(r("3bBZ"),r("q1tI"),r("wldR")),d=r("J9+s"),l=r("yNyh"),c=r("vl8/"),p=r("IULH"),u=r("UWX6"),m=r("Pl3d"),y=r("bkwR"),f=r("LEzx");class g extends f.a{getInitialState(){return{temporaryCouponCode:void 0,couponCodeInput:void 0,error:void 0}}}var h=g,v=r("VVh3"),b=r("aEEb"),S=r("zmp8"),C=r("VhAz"),M=r("y6Dp");const w=Object(d.defineMessages)({couponCodePlaceholder:{id:"couponEntryInput.placeholder",defaultMessage:"Coupon code"},couponCodeNotFoundError:{id:"couponEntryInput.error.noPromo",defaultMessage:"Invalid coupon code"}});class x extends s.a{constructor(...e){super(...e),i()(this,"storeTypes",{couponCode:h})}didMount(){const e=Object(u.a)(this.environment.currentUser.id);e&&this.stores.couponCode.setState({...this.stores.couponCode.state,temporaryCouponCode:e})}renderComponent(){return n()("div",{style:this.getContainerStyle()},void 0,n()("div",{style:{display:"flex",flexDirection:"row"}},void 0,n()(l.b,{textarea:!1,value:this.stores.couponCode.state.couponCodeInput,placeholder:c.default.formatMessage(w.couponCodePlaceholder),onSubmit:()=>this.checkCouponCode(),onChange:e=>{this.stores.couponCode.setState({...this.stores.couponCode.state,couponCodeInput:e.target.value})},style:{height:32,paddingLeft:10,marginRight:this.props.hideApply?0:10}}),n()(m.a,{request:this.stores.couponCode.state.temporaryCouponCode||null,performRequest:async e=>{if(e)return this.applyCouponCode(e)},render:(e,t,r)=>{if(!this.props.hideApply)return n()(p.a,{isLarge:!1,onClick:()=>this.checkCouponCode()},void 0,n()(v.a,{loaded:r,spinnerSize:16,showSpinnerTimeout:500},void 0,n()(d.FormattedMessage,{id:"couponEntryInput.button.apply",defaultMessage:"Apply"})))}})),this.stores.couponCode.state.error&&n()(b.a,{isMultiline:!1,style:{paddingTop:8,color:S.g.red}},void 0,this.stores.couponCode.state.error))}checkCouponCode(){const e=this.stores.couponCode.state.couponCodeInput;e&&(this.stores.couponCode.setState({...this.stores.couponCode.state,temporaryCouponCode:e}),this.stores.couponCode.setState({...this.stores.couponCode.state,couponCodeInput:""}))}async applyCouponCode(e){const t=await y.getPromoCode(this.environment,{code:e});if("success"===t.type){var r;if(t.data.promo)return null!==(r=t.data.promo.applies_to)&&void 0!==r&&r.length&&!t.data.promo.applies_to.includes(this.props.plan)?void this.showError(e):(this.stores.couponCode.setState({...this.stores.couponCode.state,error:void 0}),this.props.handlePromo(t.data.promo),M.eb(this.environment,{code:e,valid:!0,id:t.data.promo.id}),t.data.promo);this.showError(e)}else if("failed"===t.type){const e=t.error.name;this.stores.couponCode.setState({...this.stores.couponCode.state,error:e})}else Object(C.f)(t)}showError(e){this.stores.couponCode.setState({...this.stores.couponCode.state,error:c.default.formatMessage(w.couponCodeNotFoundError)}),M.eb(this.environment,{code:e,valid:!1,id:void 0})}getContainerStyle(){return{display:"flex",flexDirection:"column",...this.props.style?this.props.style:void 0}}}t.a=x},QtTN:function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var n,a="https://js.stripe.com/v3",i=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,s="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",d=null,l=function(e){return null!==d?d:d=new Promise((function(t,r){if("undefined"!=typeof window)if(window.Stripe&&e&&console.warn(s),window.Stripe)t(window.Stripe);else try{var o=function(){for(var e=document.querySelectorAll('script[src^="'.concat(a,'"]')),t=0;t<e.length;t++){var r=e[t];if(i.test(r.src))return r}return null}();o&&e?console.warn(s):o||(o=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(a).concat(t);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r}(e)),o.addEventListener("load",(function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))})),o.addEventListener("error",(function(){r(new Error("Failed to load Stripe.js"))}))}catch(n){return void r(n)}else t(null)}))},c=function(e,t,r){if(null===e)return null;var o=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.11.0",startTime:t})}(o,r),o},p=!1,u=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];p=!0;var o=Date.now();return l(n).then((function(e){return c(e,t,o)}))};u.setLoadParameters=function(e){if(p)throw new Error("You cannot change load parameters after calling loadStripe");n=function(e){var t="invalid load parameters; expected object of shape\n\n    {advancedFraudSignals: boolean}\n\nbut received\n\n    ".concat(JSON.stringify(e),"\n");if(null===e||"object"!==o(e))throw new Error(t);if(1===Object.keys(e).length&&"boolean"==typeof e.advancedFraudSignals)return e;throw new Error(t)}(e)},t.loadStripe=u},dBlp:function(e,t,r){e.exports=r("QtTN")},eWwy:function(e,t,r){!function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,n=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(d){n=!0,a=d}finally{try{o||null==s.return||s.return()}finally{if(n)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function i(){}function s(){}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,s.resetWarningCache=i;var d=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports=function(){function e(e,t,r,o,n,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return r.PropTypes=r,r}()})),l=function(e){return null!==e&&"object"===r(e)},c=function e(t,r){if(!l(t)||!l(r))return t===r;var o=Array.isArray(t);if(o!==Array.isArray(r))return!1;var n="[object Object]"===Object.prototype.toString.call(t);if(n!==("[object Object]"===Object.prototype.toString.call(r)))return!1;if(!n&&!o)return!1;var a=Object.keys(t),i=Object.keys(r);if(a.length!==i.length)return!1;for(var s={},d=0;d<a.length;d+=1)s[a[d]]=!0;for(var c=0;c<i.length;c+=1)s[i[c]]=!0;var p=Object.keys(s);if(p.length!==a.length)return!1;var u=t,m=r;return p.every((function(t){return e(u[t],m[t])}))},p=function(e){var r=t.useRef(e);return t.useEffect((function(){r.current=e}),[e]),r.current},u=function(e){if(null===e||l(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;var t;throw new Error("Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},m=function(e){if(function(e){return l(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(u)};var t=u(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},y=t.createContext(null);y.displayName="ElementsContext";var f=function(e){var r=e.stripe,o=e.options,a=e.children,i=t.useRef(!1),s=t.useRef(!0),d=t.useMemo((function(){return m(r)}),[r]),l=n(t.useState((function(){return{stripe:null,elements:null}})),2),u=l[0],f=l[1],g=p(r),h=p(o);return null!==g&&(g!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),c(o,h)||console.warn("Unsupported prop change on Elements: You cannot change the `options` prop after setting the `stripe` prop.")),i.current||("sync"===d.tag&&(i.current=!0,f({stripe:d.stripe,elements:d.stripe.elements(o)})),"async"===d.tag&&(i.current=!0,d.stripePromise.then((function(e){e&&s.current&&f({stripe:e,elements:e.elements(o)})})))),t.useEffect((function(){return function(){s.current=!1}}),[]),t.useEffect((function(){var e=u.stripe;e&&e._registerWrapper&&e._registerWrapper({name:"react-stripe-js",version:"1.2.0"})}),[u.stripe]),t.createElement(y.Provider,{value:u},a)};f.propTypes={stripe:d.any,options:d.object};var g=function(e){return function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e}(t.useContext(y),e)},h=function(e){return(0,e.children)(g("mounts <ElementsConsumer>"))};h.propTypes={children:d.func.isRequired};var v=function(e){var r=t.useRef(e);return t.useEffect((function(){r.current=e}),[e]),function(){r.current&&r.current.apply(r,arguments)}},b=function(e){return l(e)?(e.paymentRequest,o(e,["paymentRequest"])):{}},S=function(){},C=function(e,r){var o,n="".concat((o=e).charAt(0).toUpperCase()+o.slice(1),"Element"),a=r?function(e){g("mounts <".concat(n,">"));var r=e.id,o=e.className;return t.createElement("div",{id:r,className:o})}:function(r){var o=r.id,a=r.className,i=r.options,s=void 0===i?{}:i,d=r.onBlur,l=void 0===d?S:d,p=r.onFocus,u=void 0===p?S:p,m=r.onReady,y=void 0===m?S:m,f=r.onChange,h=void 0===f?S:f,C=r.onEscape,M=void 0===C?S:C,w=r.onClick,x=void 0===w?S:w,O=g("mounts <".concat(n,">")).elements,T=t.useRef(null),P=t.useRef(null),A=v(y),j=v(l),E=v(u),F=v(x),k=v(h),B=v(M);t.useLayoutEffect((function(){if(null==T.current&&O&&null!=P.current){var t=O.create(e,s);T.current=t,t.mount(P.current),t.on("ready",(function(){return A(t)})),t.on("change",k),t.on("blur",j),t.on("focus",E),t.on("escape",B),t.on("click",F)}}));var I=t.useRef(s);return t.useEffect((function(){I.current&&I.current.paymentRequest!==s.paymentRequest&&console.warn("Unsupported prop change: options.paymentRequest is not a customizable property.");var e=b(s);0===Object.keys(e).length||c(e,b(I.current))||T.current&&(T.current.update(e),I.current=s)}),[s]),t.useEffect((function(){var e=T.current;return function(){e&&e.destroy()}}),[]),t.createElement("div",{id:o,className:a,ref:P})};return a.propTypes={id:d.string,className:d.string,onChange:d.func,onBlur:d.func,onFocus:d.func,onReady:d.func,onClick:d.func,options:d.object},a.displayName=n,a.__elementType=e,a},M="undefined"==typeof window,w=C("auBankAccount",M),x=C("card",M),O=C("cardNumber",M),T=C("cardExpiry",M),P=C("cardCvc",M),A=C("fpxBank",M),j=C("iban",M),E=C("idealBank",M),F=C("paymentRequestButton",M);e.AuBankAccountElement=w,e.CardCvcElement=P,e.CardElement=x,e.CardExpiryElement=T,e.CardNumberElement=O,e.Elements=f,e.ElementsConsumer=h,e.FpxBankElement=A,e.IbanElement=j,e.IdealBankElement=E,e.PaymentRequestButtonElement=F,e.useElements=function(){return g("calls useElements()").elements},e.useStripe=function(){return g("calls useStripe()").stripe},Object.defineProperty(e,"__esModule",{value:!0})}(t,r("q1tI"))},gQtv:function(e,t,r){"use strict";r("3bBZ");var o=r("LEzx"),n=r("LvDl"),a=r.n(n);class i extends o.a{getInitialState(){return{availablePaymentMethods:["credit_card"],paymentRequest:void 0,supportsApplePay:!1}}isPaymentOptionAvailable(e){return this.state.availablePaymentMethods.includes(e)}addPaymentOption(e){const t=a.a.uniq([...this.state.availablePaymentMethods,e]);this.setState({...this.state,availablePaymentMethods:t})}}t.a=i},"nQ/L":function(e,t,r){"use strict";r.r(t),r.d(t,"injectStripe",(function(){return p})),r.d(t,"getStripe",(function(){return u}));var o=r("gcR/"),n=r.n(o),a=r("q1tI"),i=r.n(a),s=r("eWwy"),d=r("dBlp"),l=r("A9TN");let c=null;function p(e){return t=>n()(s.Elements,{stripe:u()},void 0,n()(s.ElementsConsumer,{},void 0,({stripe:r,elements:o})=>{const n={...t,stripe:r,elements:o};return i.a.createElement(e,n)}))}async function u(){return c||(d.loadStripe.setLoadParameters({advancedFraudSignals:!1}),c=Object(d.loadStripe)(l.default.stripe.key)),c}},yQT7:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return s}));var o=r("gcR/"),n=r.n(o),a=(r("q1tI"),r("PHZn"));function i(e){return{backgroundColor:e.groupedFormBackground,borderWidth:1,borderStyle:"solid",borderColor:e.groupedFormBorder,borderRadius:3,borderBottomWidth:0}}function s(e){const t=Object(a.a)(t=>({group:{display:"flex",borderBottomColor:t.groupedFormBorder,borderBottomWidth:1,borderBottomStyle:"solid",alignItems:"center",flex:1,...e.style}}),[e.style]);return n()("div",{style:t.group},void 0,e.children)}},zqZm:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));r("LvDl");function o(e){return e.country&&!n(e.country)?"skip":e.addressLine1&&e.zipCode||e.addressLine1&&e.city&&e.state||e.zipCode?"should_resolve":"insufficient_data"}function n(e){return["US","CA"].includes(e)}}}]);